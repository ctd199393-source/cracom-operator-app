{
  "auth": {
    "identityProviders": {
      "custom": {
        "registration": {
          "clientSecretSettingName": "ENTRA_CLIENT_SECRET", // シークレットのみ環境変数を参照
          "openIdConnectConfiguration": {
            // ↓ appid をURLにハードコードする
            "wellKnownOpenIdConfiguration": "https://cracomoperator.ciamlogin.com/cracomoperator.onmicrosoft.com/v2.0/.well-known/openid-configuration?appid=3f113cb1-9657-47c4-8de1-3f3744e0dcb9"
          }
        },
        "login": {
          "nameClaimType": "name",
          "scopes": [
            "openid",
            "profile"
          ]
        }
      }
    },
    "routes": [
      {
        "route": "/api/*",
        "allowedRoles": [ "anonymous" ]
      },
      {
        "route": "/.auth/*",
        "allowedRoles": [ "anonymous" ]
      },
      {
        "route": "/*",
        "allowedRoles": [
          "authenticated"
        ]
      }
    ]
  },
  "globalHeaders": {
    "Cache-Control": "no-cache"
  }
}
